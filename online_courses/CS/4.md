### 1. 프로세스 동기화

- 엄밀히 말하면 현대 운영체제로 볼 때 쓰레드라고 생각하는게 맞다.
- 두 프로세스가 전혀 상관없으면 independent 아니면 cooperating(서로 영향을 미치는 관계에 있다면)
- 프로세스 간 통신 : 전자우편, 파일 전송
- 프로세스 간 자원공유 : 메모리 상의 자료들, 데이터베이스등 
- concurrent access to shared data, 동시에 접근해 공유해 일관성을 해칠 수 있는데 이 때 데이터 일관성을 유지할 수 있도록 하는게 프로세스 동기화
- 은행계좌 문제 : 부모님은 입금, 나는 출금. 둘 다 원하는 시간에 임의로 수행하고 독립적으로 일어난다. 공유하는 데이터(계좌). 부모, 자식 쓰레드를 각각 만들어준다. 공통으로 사용하는 계좌를 생성자로 한다. 
  - 제한사항 : 잔액이 0원 이하라면 출력 X, 프로세스 순서 정해야한다. 항상 입금이 먼저 일어나야 함. 
  - 입출금 동작에 시간 지연 추가. 왜냐면 공통 변수에 대한 동시 업데이트가 일어나면서 잘못된 결과값이 나올 수 있다. 한 번에 한 쓰레드만 업데이트되도록 하자. (임계구역 문제)



### 2. 임계구역 문제

- The Critical-Section Problem 
- 공통으로 공유하는 값을 업데이트 할 때.
- Solution : Mutual exclusion(상호 배타), 오직 한 쓰레드만 진입 / Progress(진행), 진입 결정은 유한 시간 내. 둘 중 누가 먼저 접근해야할지 / Bounded waiting(유한 대기), 어느 쓰레드라도 유한 시간 내 임계구역 내에 들어갈 수 있다. => 이 세가지를 모두 만족시켜야 한다.
- 프로세스/쓰레드 동기화 : 임계구역 문제 해결(틀린 답 나오지 않게), 프로세스 실행 순서 제어(원하는 대로), busy wait등 비효율성은 제거
- 동기화 도구
  - semaphores(세마포) : 철도 시그널, 군대 수비신호 같은 것들. OS에서는 동기화 문제 해결을 위한 소프트웨어 툴. P는 adquire()라는 함수로, V는 release()라고 만든다.(네덜란드 사람이 만들어서 다르다.) 프로세스가 cpu에서 서비스 받는 중 acquire호출했는데 조건에 맞으면 감옥에 간다. 동기화를 위해 감옥에 있다가 release호출해지면 조건 만족하면 풀려나서 ready queue로 갈 수 있다. 세마포가 가진 value가 있는데 이 값을 이용해 프로세스가 들어오고 나갈 때 값을 조정해 들어오고 나가는 조건을 걸 수 있다.